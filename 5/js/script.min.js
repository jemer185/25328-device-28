"use strict";var showNavigationLink=document.querySelector(".catalog-button"),showNavigationLinkHover=document.querySelector(".catalog-button-hover"),showNavigation=document.querySelector(".site-nav__sublist");showNavigationLinkHover.classList.remove("catalog-button-hover"),showNavigationLink.addEventListener("click",function(e){e.preventDefault(),showNavigation.classList.toggle("sublist-visible")});var servicesControls=document.querySelector(".services__controls"),servicesLinks=document.querySelectorAll(".services__switch"),servicesItems=document.querySelectorAll(".services__item");servicesControls.addEventListener("click",function(e){e.preventDefault();var o=e.target;if(o.classList.contains("services__switch")){for(var a=0;a<servicesItems.length;a++)servicesItems[a].classList.remove("services__item-show"),servicesLinks[a].classList.remove("services__switch-active");o.classList.add("services__switch-active"),document.querySelector(".services__item-"+o.id).classList.add("services__item-show")}});var linkForm=document.querySelector(".feedback-button"),linkMap=document.querySelector(".map"),modalForm=document.querySelector(".modal-feedback"),modalMap=document.querySelector(".modal-map"),formClose=modalForm.querySelector(".modal-close"),mapClose=modalMap.querySelector(".modal-close"),feedbackForm=modalForm.querySelector(".modal-feedback__form"),modalFormName=modalForm.querySelector(".modal-feedback__form__input-name"),modalFormEmail=modalForm.querySelector(".modal-feedback__form__input-email"),modalFormComment=modalForm.querySelector(".modal-feedback__form__input-comment"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}linkForm.addEventListener("click",function(e){e.preventDefault(),modalForm.classList.add("modal-show"),modalFormName.focus()}),formClose.addEventListener("click",function(e){e.preventDefault(),modalForm.classList.remove("modal-show"),modalForm.classList.remove("modal-error")}),linkMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),feedbackForm.addEventListener("submit",function(e){modalFormName.value&&modalFormEmail.value&&modalFormComment.value?isStorageSupport&&localStorage.setItem("email",modalFormEmail.value):(e.preventDefault(),setTimeout(function(){modalForm.classList.remove("modal-error")},1e3),modalForm.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalForm.classList.contains("modal-show")&&(e.preventDefault(),modalForm.classList.remove("modal-show"),modalForm.classList.remove("modal-error")),modalMap.classList.contains("modal-show")&&modalMap.classList.remove("modal-show"))});